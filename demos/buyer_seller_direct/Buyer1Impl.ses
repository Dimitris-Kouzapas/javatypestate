package demos.buyer_seller_direct;

public class Buyer1Impl typestate Buyer1 {
    private SellerImpl seller;
    private Buyer2Impl buyer2;
    private int balance;
    
    public Buyer1Impl (SellerImpl seller, Buyer2Impl buyer2) {
    	this.seller = seller;
    	this.buyer2 = buyer2;
    	seller.title("Brave New World");
    }

    public void price (int amount) {
        balance = (int)(0.4 * amount);
    	buyer2.quote(amount - balance);
    }

    public void agree () {
        seller.payment2(balance);
        balance = 0;
    }
    
    public void quit () {
    }
}

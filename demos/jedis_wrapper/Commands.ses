package demos.redis;

typestate Commands {
	session
		Init =	{
           void watch(String... keys): Watching
		}
	where
		Watching = {
			get (String): Watching
			lrange (): Watching
			watch(String... keys): Watching
			multi(): Queued
		}

		Queued = {
		    void set(String k, String v): Queued
		    void lpop (String): Queued
			void discard(): end
			void exec(): <OK:end, FAIL:Queued>
		}
}

package demos.redis.alternative;

class RedisClientRole typestate RedisClientProtocol {
    void sendWATCH(String[] ks) {
	}
	
	WatchingLabel sendLabel_Watching(int l) {
		return null;
	}
	
	void sendArg_GET(String k) {
	}
	
	String receiveGET_response() {
		return null;
	}
	
	void sendArg_WATCH(String[] ks) {
	}
	
	QueuedLabel sendLabel_Queued(int l) {
		return null;
	}
	
	void sendArg0_SET(String k) {
	}
	
	void sendArg1_SET(String v) {
	}

	ResultLabel receiveEXEC_response() {
		return null;
	}

	public static void main (String[] args) {
		RedisClientRole redis = new RedisClientRole();
		redis.sendWATCH(new String[] {}); // TODO
		WATCHING: do {
			switch (redis.sendLabel_Watching(0).getEnum()) { // TODO
				case WatchingLabel.GET_request:
					redis.sendArg_GET(""); // TODO
					String v = redis.receiveGET_response();
					continue WATCHING;
				case WatchingLabel.WATCH:
					redis.sendArg_WATCH(new String[] {}); // TODO
					continue WATCHING;
				case WatchingLabel.MULTI:
					QUEUED: do {
						switch (redis.sendLabel_Queued(0).getEnum()) { // TODO
							case QueuedLabel.SET:
								redis.sendArg0_SET(""); // TODO
								redis.sendArg1_SET(""); // TODO
								continue QUEUED;
							case QueuedLabel.DISCARD:
								break WATCHING;
							case QueuedLabel.EXEC:
								switch (redis.receiveEXEC_response().getEnum()) {
									case ResultLabel.OK:
										break WATCHING;
									case ResultLabel.FAIL:
										continue QUEUED;
								}
						}
					} while (false);
			}
		} while (false);
	}
}

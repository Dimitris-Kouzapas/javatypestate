package demos.redis.jediswrapper;

import java.util.List;

public class Redis_ServerAsyncImpl /*typestate Redis_ServerAsync*/ {
	private Redis_ClientAsyncImpl client = new Redis_ClientAsyncImpl();

    void WATCH(String[] keys) {
    	System.out.println("Initiating WATCH on keys " + keys);
    }

    void GET_request(String key) {
    	String val = "hello"; // really lookup in DB
    	client.GET_response(val);
    }
    
	void MULTI () {
		// initiate transaction
	}

    void SET(String key, String value) {
    	// perform set
    }

    void DISCARD () {
    	client = null;
    }
    
    EXEC_requestExit EXEC_request () {
    	// let's just succeed, but really try to commit
       client.EXEC_response_OK();
       return new EXEC_requestExit(EXEC_requestExit.OK);
    } 
}

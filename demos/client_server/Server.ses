package demos.client_server;
import java.io.*;

public class Server typestate ServerProtocol {
    private BufferedReader clientIn;
    private PrintWriter clientOut;
    
	int receiveRequest() {
		int k = 5; // wait for k on clientIn 
		return k;
	}

	void sendResponse(String v) {
		// send v on clientOut
	}

	// In particular what this means is that services are implemented "inline" in the external driver 
	// code, rather than in the object. 	
	public static void main (String[] args) {
		Server server = new Server();
		// here is where I implement "request" from the original protocol
		int k = server.receiveRequest();
		server.sendResponse("hello");
	}
}
